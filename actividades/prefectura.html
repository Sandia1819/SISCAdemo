<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Periodos</title>
    <!-- Enlace al archivo de estilos -->
    <link rel="stylesheet" href="pref.css">

    <!-- √çconos de FontAwesome para los √≠conos -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<style>
    
        :root {
            --primary-color: #4a6cf7;
            --secondary-color: #2ec4b6;
            --danger-color: #e71d36;
            --success-color: #2ec4b6;
            --warning-color: #ff9f1c;
            --light-color: #f8f9fa;
            --dark-color: #212529;
            --border-radius: 12px;
            --box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f7fb;
            color: var(--dark-color);
            min-height: 100vh;
            padding: 30px;
        }

        .app-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 2px solid #eaedf5;
        }

        .header h1 {
            color: var(--primary-color);
            margin-bottom: 15px;
        }

        .header p {
            color: #6c7983;
            font-size: 18px;
        }

        .task-form {
            background-color: #fff;
            padding: 25px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            display: flex;
            gap: 15px;
            margin-bottom: 40px;
            flex-wrap: wrap;
        }

        .task-input {
            flex: 3;
            min-width: 200px;
        }

        .task-input input {
            width: 100%;
            padding: 15px;
            border: 2px solid #eaedf5;
            border-radius: var(--border-radius);
            font-size: 16px;
            outline: none;
            transition: var(--transition);
        }

        .task-input input:focus {
            border-color: var(--primary-color);
        }

        .date-priority {
            display: flex;
            gap: 15px;
            flex: 2;
        }

        .date-input {
            flex: 1;
            min-width: 150px;
        }

        .date-input input {
            width: 100%;
            padding: 15px;
            border: 2px solid #eaedf5;
            border-radius: var(--border-radius);
            font-size: 16px;
            outline: none;
            transition: var(--transition);
        }

        .priority-select {
            flex: 1;
            min-width: 120px;
        }

        .priority-select select {
            width: 100%;
            padding: 15px;
            border: 2px solid #eaedf5;
            border-radius: var(--border-radius);
            font-size: 16px;
            outline: none;
            transition: var(--transition);
            appearance: none;
            background-image: url("data:image/svg+xml;utf8,<svg fill='gray' height='24' viewBox='0 0 24 24' width='24' xmlns='http://www.w3.org/2000/svg'><path d='M7 10l5 5 5-5z'/><path d='M0 0h24v24H0z' fill='none'/></svg>");
            background-repeat: no-repeat;
            background-position: right 15px center;
            background-color: white;
        }

        .task-submit {
            flex: 1;
            min-width: 120px;
        }

        .task-submit button {
            width: 100%;
            padding: 15px;
            border: none;
            border-radius: var(--border-radius);
            background-color: var(--primary-color);
            color: white;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: var(--transition);
        }

        .task-submit button:hover {
            background-color: #3a5bd9;
            box-shadow: 0 5px 15px rgba(74, 108, 247, 0.4);
            transform: translateY(-2px);
        }

        .board-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
        }

        .board {
            background-color: #fff;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 25px;
            min-height: 500px;
            display: flex;
            flex-direction: column;
        }

        .board-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #eaedf5;
        }

        .board-title {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .board-title h2 {
            font-size: 20px;
        }

        .pending .board-title h2 {
            color: var(--warning-color);
        }

        .in-progress .board-title h2 {
            color: var(--primary-color);
        }

        .completed .board-title h2 {
            color: var(--success-color);
        }

        .board-counter {
            background-color: #eaedf5;
            height: 30px;
            width: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 14px;
        }

        .pending .board-counter {
            background-color: #fff4e5;
            color: var(--warning-color);
        }

        .in-progress .board-counter {
            background-color: #e9efff;
            color: var(--primary-color);
        }

        .completed .board-counter {
            background-color: #e0f9f6;
            color: var(--success-color);
        }

        .board-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 15px;
            min-height: 100px;
        }

        .task-card {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            cursor: grab;
            position: relative;
            transition: var(--transition);
            border-left: 5px solid #ccc;
        }

        .task-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        .task-card.dragging {
            opacity: 0.5;
            transform: scale(0.95);
        }

        .task-card.high {
            border-left-color: var(--danger-color);
        }

        .task-card.medium {
            border-left-color: var(--warning-color);
        }

        .task-card.low {
            border-left-color: var(--success-color);
        }

        .task-card-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
        }

        .task-priority {
            font-size: 12px;
            font-weight: bold;
            padding: 5px 10px;
            border-radius: 20px;
        }

        .task-priority.high {
            background-color: #ffeaea;
            color: var(--danger-color);
        }

        .task-priority.medium {
            background-color: #fff4e5;
            color: var(--warning-color);
        }

        .task-priority.low {
            background-color: #e0f9f6;
            color: var(--success-color);
        }

        .task-actions {
            display: flex;
            gap: 5px;
        }

        .task-btn {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 16px;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: var(--transition);
        }

        .task-btn.edit {
            background-color: #e9efff;
            color: var(--primary-color);
        }

        .task-btn.delete {
            background-color: #ffeaea;
            color: var(--danger-color);
        }

        .task-title {
            font-size: 18px;
            margin-bottom: 10px;
            word-break: break-word;
        }

        .task-date {
            font-size: 14px;
            color: #6c7983;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .drop-area {
            border: 2px dashed #eaedf5;
            border-radius: var(--border-radius);
            padding: 20px;
            text-align: center;
            color: #6c7983;
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            margin-top: 15px;
        }

        .drop-area.active {
            border-color: var(--primary-color);
            background-color: #e9efff;
        }

        .modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }

        .modal.show {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background-color: white;
            border-radius: var(--border-radius);
            width: 90%;
            max-width: 500px;
            padding: 30px;
            position: relative;
            transform: translateY(20px);
            transition: var(--transition);
        }

        .modal.show .modal-content {
            transform: translateY(0);
        }

        .modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #6c7983;
        }

        .modal-title {
            margin-bottom: 20px;
            color: var(--primary-color);
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: var(--dark-color);
        }

        .form-control {
            width: 100%;
            padding: 15px;
            border: 2px solid #eaedf5;
            border-radius: var(--border-radius);
            font-size: 16px;
            outline: none;
            transition: var(--transition);
        }

        .form-control:focus {
            border-color: var(--primary-color);
        }

        .form-actions {
            display: flex;
            justify-content: flex-end;
            gap: 15px;
            margin-top: 30px;
        }

        .form-btn {
            padding: 12px 25px;
            border-radius: var(--border-radius);
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: var(--transition);
        }

        .form-btn.cancel {
            background-color: #eaedf5;
            color: #6c7983;
            border: none;
        }

        .form-btn.save {
            background-color: var(--primary-color);
            color: white;
            border: none;
        }

        .form-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        @media (max-width: 768px) {
            .task-form {
                flex-direction: column;
            }
            
            .date-priority {
                flex-direction: column;
            }
            
            .board-container {
                grid-template-columns: 1fr;
            }
        }

        .animations-paused * {
            animation-play-state: paused !important;
            transition: none !important;
        }

        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background-color: #ffd700;
            top: -20px;
            animation: fall 3s ease-in-out forwards;
            z-index: 1000;
        }

        @keyframes fall {
            0% {
                transform: translateY(0) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }

        .empty-state {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 200px;
            color: #6c7983;
            text-align: center;
        }

        .empty-state svg {
            margin-bottom: 15px;
            color: #d1d5db;
        }
   
    /* Estilos generales */
body {
    font-family: Arial, sans-serif;
    margin: 0;
    transition: background-color 0.5s, color 0.5s;
}

/* Modo claro (predeterminado) */
body {
    color: black;
}

/* Modo oscuro */
body.dark-mode {
    background-color: black;
    color: white;
}

/* Fondo para elementos espec√≠ficos en modo oscuro */
body.dark-mode .dark-container {
    background-color: black;
    color: white;
}

/* Fondo para elementos espec√≠ficos en modo claro */
body .light-container {
    background-color: #f4f4f4;
    color: black;

}

/* Asegurar que ciertos elementos no cambien */
body.dark-mode .no-change-color {
    color: black !important;
}

/* Estilos para el interruptor */
.switch {
    position: fixed;
    top: 20px;
    right: 20px;
    display: inline-block;
    width: 60px;
    height: 34px;
}

.switch input {
    opacity: 0;
    width: 0;
    height: 0;
}

.slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: #ccc;
    transition: 0.4s;
    border-radius: 50px;
}

.slider:before {
    position: absolute;
    content: "";
    height: 26px;
    width: 26px;
    border-radius: 50px;
    left: 4px;
    bottom: 4px;
    background-color: white;
    transition: 0.4s;
}

input:checked + .slider {
    background-color: #2196F3;
}

input:checked + .slider:before {
    transform: translateX(26px);
}


body.dark-mode .container,
body.dark-mode .darkinput,
body.dark-mode .classTable {
    background-color: black;
    color: white;
}
</style>
<body>
     <!-- Barra lateral -->
     <div class="sidebar">
        <ul> 
            <li class="logo-item">
                <a href="../indexadm.html">
                    <img src="../assets/logout.png" alt="Logo" class="logo-img">
                </a>
            </li>

         
            <!-- Men√∫ de la barra lateral -->
            <li>
                <a href="../periodos/periodos.html">
                    <i class="fa fa-bookmark"></i>
                    <span class="menu-item">Periodos</span>
                </a>
            </li>
            <li>
                <a href="../plandeestudios/plandeEstudios.html">
                    <i class="fa fa-calendar"></i>
                    <span class="menu-item">Plan de Estudios</span>
                </a>
            </li>
            <li>
                <a href="../cartadeAsignacion/cartadeAsignacion.html">
                    <i class="fa fa-file-alt"></i>
                    <span class="menu-item">Carta de Asignaci√≥n</span>
                </a>
            </li>
            <li>
                <a href="../grupos/grupos.html">
                    <i class="fa fa-book"></i>
                    <span class="menu-item">Grupos</span>
                </a>
            </li>
            <li>
                <a href="../docentes/docentes.html">
                    <i class="fa fa-user"></i>
                    <span class="menu-item">Docentes</span>
                </a>
            </li>
            <li>
                <a href="../carga/carga.html">
                    <i class="fa fa-list-alt"></i>
                    <span class="menu-item">Carga</span>
                </a>
            </li>
            <li>
                <a href="../tutoria/tutoria.html">
                    <i class="fa fa-users"></i>
                    <span class="menu-item">Tutor√≠a</span>
                </a>
            </li>
            <li>
                <a href="../reportes/reportes.html">
                    <i class="fa fa-chart-line"></i>
                    <span class="menu-item">Reportes</span>
                </a>
            </li>
            <li>
                <a href="../proyectosIntegradores/proyectosIntegradores.html">
                    <i class="fa fa-folder"></i>
                    <span class="menu-item">Proyectos Integradores</span>
                </a>
            </li>
            <li>
                <a href="../horarios/horarios.html">
                    <i class="fa fa-clock"></i>
                    <span class="menu-item">Horarios</span>
                </a>
            </li>
            <li>
                <a href="../prefectura/prefectura.html">
                    <i class="fa fa-shield-alt"></i>
                    <span class="menu-item">Prefectura</span>
                </a>
            </li>
        </ul>
    </div>

    <!-- Contenedor Inicial -->
    <div class="customrow">
        <div class="logos">
                
            <img src="../assets/siscalogo1.png" alt="Icono Logo" class="logo-icon" height="100px" width="100px">
            <img src="../assets/siscalogo2.png" alt="Texto Logo" class="logo-text" height="100px" width="180px">
       
        </div>   
        <h2 class="texto">Sistema de Carga Acad√©mica v1.0</h2>  
    </div>
<br><br><br> 
    <div class="titleCartaasgn">
        <h2 class="texto">Periodos</h2>
    </div>
    <!-- Modo oscuro -->
    <label class="switch">
        <input type="checkbox" id="darkModeToggle">
        <span class="slider"></span>
    </label>






    <div class="app-container">
        <header class="header">
            <div class="theme-switch-container">
                <label class="theme-switch" for="themeToggle">
                    <input type="checkbox" id="themeToggle">
                    <div class="slider round">
                        <span class="sun">‚òÄÔ∏è</span>
                        <span class="moon">üåô</span>
                    </div>
                </label>
            </div>
            <h1>GESTOR DE ACTIVIDADES PENDIENTES</h1>
            <p>Organiza tus actividades arrastr√°ndolas entre las diferentes secciones</p>
        </header>

        <div class="task-form" id="taskForm">
            <div class="task-input">
                <input type="text" id="taskTitle" placeholder="¬øQu√© necesitas hacer?">
            </div>
            <div class="date-priority">
                <div class="date-input">
                    <input type="date" id="taskDate">
                </div>
                <div class="priority-select">
                    <select id="taskPriority">
                        <option value="low">Baja</option>
                        <option value="medium" selected>Media</option>
                        <option value="high">Alta</option>
                    </select>
                </div>
            </div>
            <div class="task-submit">
                <button id="addTaskBtn">Agregar Tarea</button>
            </div>
        </div>

        <div class="board-container">
            <div class="board pending" id="pendingBoard">
                <div class="board-header">
                    <div class="board-title">
                        <h2>Pendientes</h2>
                        <div class="board-counter" id="pendingCounter">0</div>
                    </div>
                </div>
                <div class="board-content" id="pendingTasks" data-status="pending">
                    <div class="empty-state" id="pendingEmpty">
                        <svg width="50" height="50" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M8 12H16" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M12 8V16" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <p>No hay tareas pendientes.<br>¬°Agrega una nueva tarea!</p>
                    </div>
                </div>
                <div class="drop-area" id="pendingDropArea">
                    Arrastra aqu√≠ para mover a pendientes
                </div>
            </div>

            <div class="board in-progress" id="progressBoard">
                <div class="board-header">
                    <div class="board-title">
                        <h2>En Progreso</h2>
                        <div class="board-counter" id="progressCounter">0</div>
                    </div>
                </div>
                <div class="board-content" id="progressTasks" data-status="progress">
                    <div class="empty-state" id="progressEmpty">
                        <svg width="50" height="50" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M12 6V12L16 14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <p>No hay tareas en progreso.<br>¬°Arrastra tareas aqu√≠ para comenzar!</p>
                    </div>
                </div>
                <div class="drop-area" id="progressDropArea">
                    Arrastra aqu√≠ para mover a en progreso
                </div>
            </div>

            <div class="board completed" id="completedBoard">
                <div class="board-header">
                    <div class="board-title">
                        <h2>Completadas</h2>
                        <div class="board-counter" id="completedCounter">0</div>
                    </div>
                </div>
                <div class="board-content" id="completedTasks" data-status="completed">
                    <div class="empty-state" id="completedEmpty">
                        <svg width="50" height="50" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M22 11.08V12C21.9988 14.1564 21.3005 16.2547 20.0093 17.9818C18.7182 19.709 16.9033 20.9725 14.8354 21.5839C12.7674 22.1953 10.5573 22.1219 8.53447 21.3746C6.51168 20.6273 4.78465 19.2461 3.61096 17.4371C2.43727 15.628 1.87979 13.4881 2.02168 11.3363C2.16356 9.18455 2.99721 7.13631 4.39828 5.49706C5.79935 3.85781 7.69279 2.71537 9.79619 2.24013C11.8996 1.7649 14.1003 1.98232 16.07 2.85999" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M22 4L12 14.01L9 11.01" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <p>No hay tareas completadas.<br>¬°Completa tus tareas y celebra tus logros!</p>
                    </div>
                </div>
                <div class="drop-area" id="completedDropArea">
                    Arrastra aqu√≠ para marcar como completada
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="editModal">
        <div class="modal-content">
            <button class="modal-close" id="closeModal">&times;</button>
            <h2 class="modal-title">Editar Tarea</h2>
            <form id="editForm">
                <input type="hidden" id="editTaskId">
                <div class="form-group">
                    <label for="editTitle">T√≠tulo</label>
                    <input type="text" id="editTitle" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="editDate">Fecha</label>
                    <input type="date" id="editDate" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="editPriority">Prioridad</label>
                    <select id="editPriority" class="form-control">
                        <option value="low">Baja</option>
                        <option value="medium">Media</option>
                        <option value="high">Alta</option>
                    </select>
                </div>
                <div class="form-actions">
                    <button type="button" id="cancelEdit" class="form-btn cancel">Cancelar</button>
                    <button type="submit" class="form-btn save">Guardar Cambios</button>
                </div>
            </form>
        </div>
    </div>



    <script>
        // Variables globales
        let tasks = JSON.parse(localStorage.getItem('tasks')) || [];
       let draggedTask = null;
       
       // Elementos DOM
       const taskForm = document.getElementById('taskForm');
       const addTaskBtn = document.getElementById('addTaskBtn');
       const taskTitle = document.getElementById('taskTitle');
       const taskDate = document.getElementById('taskDate');
       const taskPriority = document.getElementById('taskPriority');
       
       const pendingTasks = document.getElementById('pendingTasks');
       const progressTasks = document.getElementById('progressTasks');
       const completedTasks = document.getElementById('completedTasks');
       
       const pendingCounter = document.getElementById('pendingCounter');
       const progressCounter = document.getElementById('progressCounter');
       const completedCounter = document.getElementById('completedCounter');
       
       const pendingEmpty = document.getElementById('pendingEmpty');
       const progressEmpty = document.getElementById('progressEmpty');
       const completedEmpty = document.getElementById('completedEmpty');
       
       const pendingDropArea = document.getElementById('pendingDropArea');
       const progressDropArea = document.getElementById('progressDropArea');
       const completedDropArea = document.getElementById('completedDropArea');
       
       const editModal = document.getElementById('editModal');
       const closeModal = document.getElementById('closeModal');
       const cancelEdit = document.getElementById('cancelEdit');
       const editForm = document.getElementById('editForm');
       const editTaskId = document.getElementById('editTaskId');
       const editTitle = document.getElementById('editTitle');
       const editDate = document.getElementById('editDate');
       const editPriority = document.getElementById('editPriority');
       
       // Funci√≥n para establecer fecha de hoy por defecto
       function setDefaultDate() {
           const today = new Date();
           const year = today.getFullYear();
           const month = String(today.getMonth() + 1).padStart(2, '0');
           const day = String(today.getDate()).padStart(2, '0');
           
           const formattedDate = `${year}-${month}-${day}`;
           taskDate.value = formattedDate;
       }
       
       // Funci√≥n para generar ID √∫nico
       function generateId() {
           return Date.now().toString(36) + Math.random().toString(36).substr(2);
       }
       
       // Funci√≥n para agregar una nueva tarea
       function addTask() {
           const title = taskTitle.value.trim();
           const date = taskDate.value;
           const priority = taskPriority.value;
           
           if (!title || !date) {
               alert('Por favor, completa todos los campos');
               return;
           }
           
           const newTask = {
               id: generateId(),
               title,
               date,
               priority,
               status: 'pending',
               createdAt: new Date().toISOString()
           };
           
           tasks.push(newTask);
           saveTasks();
           renderTasks();
           
           // Limpiar formulario
           taskTitle.value = '';
           setDefaultDate();
           taskPriority.value = 'medium';
           
           // Enfoque en el input
           taskTitle.focus();
       }
       
       // Funci√≥n para crear elemento de tarea
       function createTaskElement(task) {
           const taskElement = document.createElement('div');
           taskElement.className = `task-card ${task.priority}`;
           taskElement.setAttribute('draggable', 'true');
           taskElement.setAttribute('data-id', task.id);
           
           const formattedDate = new Date(task.date).toLocaleDateString();
           
           // Convertir prioridad a texto en espa√±ol
           let priorityText = 'Media';
           if (task.priority === 'high') priorityText = 'Alta';
           if (task.priority === 'low') priorityText = 'Baja';
           
           taskElement.innerHTML = `
               <div class="task-card-header">
                   <div class="task-priority ${task.priority}">${priorityText}</div>
                   <div class="task-actions">
                       <button class="task-btn edit" data-id="${task.id}">‚úèÔ∏è</button>
                       <button class="task-btn delete" data-id="${task.id}">üóëÔ∏è</button>
                   </div>
               </div>
               <h3 class="task-title">${task.title}</h3>
               <div class="task-date">üìÖ ${formattedDate}</div>
           `;
           
           // Eventos drag
           taskElement.addEventListener('dragstart', function() {
               draggedTask = task;
               this.classList.add('dragging');
               // Pausar animaciones durante el arrastre para mejorar rendimiento
               document.body.classList.add('animations-paused');
           });
           
           taskElement.addEventListener('dragend', function() {
               this.classList.remove('dragging');
               document.body.classList.remove('animations-paused');
           });
           
           // Eventos de click
           const editBtn = taskElement.querySelector('.edit');
           const deleteBtn = taskElement.querySelector('.delete');
           
           editBtn.addEventListener('click', function(e) {
               e.stopPropagation();
               openEditModal(task.id);
           });
           
           deleteBtn.addEventListener('click', function(e) {
               e.stopPropagation();
               deleteTask(task.id);
           });
           
           return taskElement;
       }
       
       // Funci√≥n para renderizar tareas
       function renderTasks() {
           // Limpiar contenedores
           pendingTasks.innerHTML = '';
           progressTasks.innerHTML = '';
           completedTasks.innerHTML = '';
           
           // Reinsertar empty states
           pendingTasks.appendChild(pendingEmpty);
           progressTasks.appendChild(progressEmpty);
           completedTasks.appendChild(completedEmpty);
           
           // Contadores
           let pendingCount = 0;
           let progressCount = 0;
           let completedCount = 0;
           
           // Ordenar tareas: alta prioridad primero, luego por fecha
           const sortedTasks = [...tasks].sort((a, b) => {
               const priorityOrder = { high: 1, medium: 2, low: 3 };
               if (priorityOrder[a.priority] !== priorityOrder[b.priority]) {
                   return priorityOrder[a.priority] - priorityOrder[b.priority];
               }
               return new Date(a.date) - new Date(b.date);
           });
           
           // Renderizar tareas
           sortedTasks.forEach(task => {
               const taskElement = createTaskElement(task);
               
               if (task.status === 'pending') {
                   pendingTasks.appendChild(taskElement);
                   pendingCount++;
                   pendingEmpty.style.display = 'none';
               } else if (task.status === 'progress') {
                   progressTasks.appendChild(taskElement);
                   progressCount++;
                   progressEmpty.style.display = 'none';
               } else if (task.status === 'completed') {
                   completedTasks.appendChild(taskElement);
                   completedCount++;
                   completedEmpty.style.display = 'none';
               }
           });
           
           // Actualizar contadores
           pendingCounter.textContent = pendingCount;
           progressCounter.textContent = progressCount;
           completedCounter.textContent = completedCount;
           
           // Mostrar/ocultar empty states
           pendingEmpty.style.display = pendingCount > 0 ? 'none' : 'flex';
           progressEmpty.style.display = progressCount > 0 ? 'none' : 'flex';
           completedEmpty.style.display = completedCount > 0 ? 'none' : 'flex';
       }
       
       // Funci√≥n para guardar tareas en localStorage
       function saveTasks() {
           localStorage.setItem('tasks', JSON.stringify(tasks));
       }
       
       // Funci√≥n para eliminar tarea
       function deleteTask(id) {
           if (confirm('¬øEst√°s seguro de eliminar esta tarea?')) {
               tasks = tasks.filter(task => task.id !== id);
               saveTasks();
               renderTasks();
           }
       }
       // Funci√≥n para abrir el modal de edici√≥n
function openEditModal(id) {
   const task = tasks.find(task => task.id === id);
   if (task) {
       editTaskId.value = task.id;
       editTitle.value = task.title;
       editDate.value = task.date;
       editPriority.value = task.priority;
       editModal.style.display = 'flex';
   }
}

// Funci√≥n para actualizar una tarea existente
function updateTask() {
   const id = editTaskId.value;
   const title = editTitle.value.trim();
   const date = editDate.value;
   const priority = editPriority.value;
   
   if (!title || !date) {
       alert('Por favor, completa todos los campos');
       return;
   }
   
   const taskIndex = tasks.findIndex(task => task.id === id);
   if (taskIndex !== -1) {
       tasks[taskIndex].title = title;
       tasks[taskIndex].date = date;
       tasks[taskIndex].priority = priority;
       
       saveTasks();
       renderTasks();
       closeEditModal();
   }
}

// Funci√≥n para cerrar el modal de edici√≥n
function closeEditModal() {
   editModal.style.display = 'none';
}

// Funci√≥n para manejar el cambio de estado de una tarea
function changeTaskStatus(taskId, newStatus) {
   const taskIndex = tasks.findIndex(task => task.id === taskId);
   if (taskIndex !== -1) {
       tasks[taskIndex].status = newStatus;
       saveTasks();
       renderTasks();
   }
}

// Configurar eventos de arrastrar y soltar
function setupDragAndDrop() {
   // Configurar drop areas
   const dropAreas = [pendingDropArea, progressDropArea, completedDropArea];
   const boardContents = [pendingTasks, progressTasks, completedTasks];
   
   // Funci√≥n para mostrar/ocultar √°reas de drop
   function showDropAreas() {
       dropAreas.forEach(area => {
           area.style.display = 'flex';
       });
   }
   
   function hideDropAreas() {
       dropAreas.forEach(area => {
           area.style.display = 'none';
       });
   }
   
   // Configurar eventos en √°reas de contenido
   boardContents.forEach(board => {
       board.addEventListener('dragover', function(e) {
           e.preventDefault();
           this.classList.add('drag-over');
       });
       
       board.addEventListener('dragleave', function() {
           this.classList.remove('drag-over');
       });
       
       board.addEventListener('drop', function(e) {
           e.preventDefault();
           this.classList.remove('drag-over');
           
           if (draggedTask) {
               const newStatus = this.getAttribute('data-status');
               changeTaskStatus(draggedTask.id, newStatus);
               draggedTask = null;
               hideDropAreas();
           }
       });
   });
   
   // Configurar eventos en √°reas de drop espec√≠ficas
   dropAreas.forEach(area => {
       area.addEventListener('dragover', function(e) {
           e.preventDefault();
           this.classList.add('active');
       });
       
       area.addEventListener('dragleave', function() {
           this.classList.remove('active');
       });
       
       area.addEventListener('drop', function(e) {
           e.preventDefault();
           this.classList.remove('active');
           
           if (draggedTask) {
               let newStatus;
               if (this === pendingDropArea) newStatus = 'pending';
               else if (this === progressDropArea) newStatus = 'progress';
               else if (this === completedDropArea) newStatus = 'completed';
               
               changeTaskStatus(draggedTask.id, newStatus);
               draggedTask = null;
               hideDropAreas();
           }
       });
   });
   
   // Mostrar √°reas de drop cuando comienza el arrastre
   document.addEventListener('dragstart', showDropAreas);
   document.addEventListener('dragend', hideDropAreas);
}

// Inicializar aplicaci√≥n
function initApp() {
   // Establecer fecha por defecto
   setDefaultDate();
   
   // Renderizar tareas existentes
   renderTasks();
   
   // Configurar drag and drop
   setupDragAndDrop();
   
   // Event listener para agregar tarea
   addTaskBtn.addEventListener('click', function(e) {
       e.preventDefault();
       addTask();
   });
   
   // Event listeners para el modal de edici√≥n
   closeModal.addEventListener('click', closeEditModal);
   cancelEdit.addEventListener('click', closeEditModal);
   
   editForm.addEventListener('submit', function(e) {
       e.preventDefault();
       updateTask();
   });
}

// Iniciar la aplicaci√≥n
document.addEventListener('DOMContentLoaded', initApp);

           </script>
           <script>
               // theme-switcher.js

document.addEventListener('DOMContentLoaded', function() {
   const themeToggle = document.getElementById('themeToggle');
   
   // Comprobar si hay una preferencia guardada
   if (localStorage.getItem('darkMode') === 'enabled') {
       document.body.classList.add('dark-mode');
       themeToggle.checked = true;
   } else if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
       // Si no hay preferencia guardada, detectar preferencia del sistema
       document.body.classList.add('dark-mode');
       themeToggle.checked = true;
       localStorage.setItem('darkMode', 'enabled');
   }
   
   // Evento para cambiar el tema
   themeToggle.addEventListener('change', function() {
       if (this.checked) {
           // Activar modo oscuro
           document.body.classList.add('dark-mode');
           localStorage.setItem('darkMode', 'enabled');
       } else {
           // Desactivar modo oscuro
           document.body.classList.remove('dark-mode');
           localStorage.setItem('darkMode', 'disabled');
       }
   });
   
   // Escuchar cambios en las preferencias del sistema
   if (window.matchMedia) {
       const colorSchemeQuery = window.matchMedia('(prefers-color-scheme: dark)');
       
       colorSchemeQuery.addEventListener('change', function(e) {
           if (e.matches) {
               // Sistema cambi√≥ a modo oscuro
               if (localStorage.getItem('darkMode') !== 'disabled') {
                   document.body.classList.add('dark-mode');
                   themeToggle.checked = true;
               }
           } else {
               // Sistema cambi√≥ a modo claro
               if (localStorage.getItem('darkMode') !== 'enabled') {
                   document.body.classList.remove('dark-mode');
                   themeToggle.checked = false;
               }
           }
       });
   }
});
           </script>
      






    <script>


        // C√≥digo del modo oscuro
        const toggle = document.getElementById('darkModeToggle');
        const body = document.body;

        if (localStorage.getItem('darkMode') === 'true') {
            body.classList.add('dark-mode');
            toggle.checked = true;
        }

        toggle.addEventListener('change', () => {
            if (toggle.checked) {
                body.classList.add('dark-mode');
                localStorage.setItem('darkMode', 'true');
            } else {
                body.classList.remove('dark-mode');
                localStorage.setItem('darkMode', 'false');
            }
        });

        const toggleSwitch = document.getElementById('darkModeToggle');

        toggleSwitch.addEventListener('change', () => {
            document.body.classList.toggle('dark-mode', toggleSwitch.checked);
        });
    </script>
</body>
</html>
